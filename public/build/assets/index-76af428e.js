import{_ as u,r as m,o as a,c as n,a as e,e as c,f as d,d as _,v as y,F as f,g as b,h as i,t as h}from"./app-0df0aeeb.js";const x={name:"Employees",data(){return{employees:[],search:""}},async mounted(){await this.getEmployees()},computed:{filterSearch(){return this.employees.filter(t=>t.name.match(this.search))}},methods:{async getEmployees(){await axios.get("/api/customers").then(t=>{this.employees=t.data}).catch(t=>{console.log(t)})},async delete(t){confirm("هل أنت متأكد من حذف هذا الموظف؟")&&await axios.delete(`/api/customers/${t}`).then(o=>{this.getEmployees()}).catch(o=>{console.log(o)})}}},g={class:"card mt-2"},v={class:"card-header"},w={class:"d-flex justify-content-between"},k=e("h5",{class:"card-title"},"الموظفون",-1),E={class:"card-body table-responsive p-0"},C={class:"table-sm w-100 table-bordered text-center"},V=e("thead",null,[e("tr",null,[e("th",{class:"w-50"},"الاسم"),e("th",null,"الجوال"),e("th",{class:"w-25"},"أكشن")])],-1),$=["onClick"];function B(t,o,N,S,l,p){const r=m("router-link");return a(),n("div",g,[e("div",v,[e("div",w,[k,c(r,{to:"/employees/create",class:"btn btn-primary"},{default:d(()=>[i("اضافة")]),_:1}),_(e("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=s=>l.search=s),placeholder:"الاسم",class:"form-control w-25"},null,512),[[y,l.search]])])]),e("div",E,[e("table",C,[V,e("tbody",null,[(a(!0),n(f,null,b(p.filterSearch,s=>(a(),n("tr",{key:s.id},[e("td",null,h(s.name),1),e("td",null,h(s.phone),1),e("td",null,[c(r,{to:`/employees/${s.id}`,class:"btn btn-primary mx-2"},{default:d(()=>[i("تعديل")]),_:2},1032,["to"]),e("button",{class:"btn btn-danger",onClick:D=>delete s.id}," حذف ",8,$)])]))),128))])])])])}const T=u(x,[["render",B]]);export{T as default};
