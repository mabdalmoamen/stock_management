import{_ as u,o as m,c,a as e,t as f,b as _,w as p,d as l,v as n}from"./app-0df0aeeb.js";const b={data(){return{form:{name:"",quantity:""},error:null}},methods:{onFileSelected(r){let t=r.target.files[0];if(t.size>1048770)alert("الصورة كبيرة جداً");else{let i=new FileReader;i.onload=d=>{this.form.image=d.target.result},i.readAsDataURL(t)}},async create(){this.error=null,(this.form.name==""||this.form.quantity=="")&&(this.error="يجب ملء جميع الحقول"),await axios.post("/api/items",this.form).then(r=>{this.$router.push("/items")}).catch(r=>{this.error=r.response.data.message})}}},h={class:"row justify-content-center"},y={class:"col-6"},v={class:"card"},g=e("div",{class:"card-header"},[e("h5",null,"إضافة معدة")],-1),q={class:"card-body"},x={key:0,class:"alert alert-sm alert-danger"},w={class:"form-group mb-3"},S=e("label",{class:"mb-1",for:"image"},"الصورة",-1),V={class:"form-group mb-3"},F=e("label",{class:"mb-1",for:"name"},"الاسم",-1),U={class:"form-group mb-3"},k=e("label",{class:"mb-1",for:"barcode"},"الباركود",-1),B={class:"form-group mb-3"},D=e("label",{class:"mb-1",for:"qty"},"المخزون",-1),C=e("button",{type:"submit",class:"btn btn-primary text-center m-auto float-start"}," حفظ ",-1);function M(r,t,i,d,o,a){return m(),c("div",h,[e("div",y,[e("div",v,[g,e("div",q,[o.error?(m(),c("div",x,f(o.error),1)):_("",!0),e("form",{onSubmit:t[4]||(t[4]=p((...s)=>a.create&&a.create(...s),["prevent"]))},[e("div",w,[S,e("input",{type:"file",class:"form-control",id:"image",onChange:t[0]||(t[0]=(...s)=>a.onFileSelected&&a.onFileSelected(...s))},null,32)]),e("div",V,[F,l(e("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[1]||(t[1]=s=>o.form.name=s),required:""},null,512),[[n,o.form.name]])]),e("div",U,[k,l(e("input",{type:"text",class:"form-control",id:"barcode","onUpdate:modelValue":t[2]||(t[2]=s=>o.form.barcode=s)},null,512),[[n,o.form.barcode]])]),e("div",B,[D,l(e("input",{type:"number",required:"",min:"0",class:"form-control",id:"qty","onUpdate:modelValue":t[3]||(t[3]=s=>o.form.quantity=s)},null,512),[[n,o.form.quantity]])]),C],32)])])])])}const R=u(b,[["render",M]]);export{R as default};
